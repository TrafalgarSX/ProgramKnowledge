### äºŒåˆ†æ¨¡æ¿
---
```c
int binarySearch(int[] nums, int target) {
    int left = 0, right = ...;

    while(...) {
        int mid = left + (right - left) / 2;
        if (nums[mid] == target) {
            ...
        } else if (nums[mid] < target) {
            left = ...
        } else if (nums[mid] > target) {
            right = ...
        }
    }
    return ...;
}
```

æ‰€æœ‰ `...` æ ‡è®°çš„éƒ¨åˆ†ï¼Œå°±æ˜¯å¯èƒ½å‡ºç°ç»†èŠ‚é—®é¢˜çš„åœ°æ–¹ï¼Œé‡è§ä¸€ä¸ªäºŒåˆ†æŸ¥æ‰¾çš„é—®é¢˜ï¼Œé¦–å…ˆéœ€è¦æ³¨æ„è¿™å‡ ä¸ªç»†èŠ‚ã€‚

âš ï¸ğŸ‘‰ è®¡ç®—mid çš„æ—¶å€™è¦é˜²æ­¢æº¢å‡ºï¼Œ ä»£ç ä¸­ `left + (right - left) / 2` å’Œ `(left + right) / 2` çš„ç»“æœç›¸åŒï¼Œä½†æ˜¯æœ‰æ•ˆé˜²æ­¢äº† left å’Œ right å¤ªå¤§ç›´æ¥ç›¸åŠ å¯¼è‡´æº¢å‡ºã€‚

### å¯»æ‰¾ä¸€ä¸ªæ•°ï¼ˆåŸºæœ¬çš„äºŒåˆ†æœç´¢ï¼‰
---
```c
int binarySearch(vector<int> &nums, int target) {
    int left = 0, right =nums.size() - 1;

    while(left <= right){
        int mid = left + (right - left) / 2;
        if (nums[mid] == target) {
			return mid;
        } else if (nums[mid] < target) {
			left = mid + 1;  // æ³¨æ„
        } else if (nums[mid] > target) {
            right = mid - 1;  // æ³¨æ„
        }
    }
    return  ;
}
```
#### ä¸ºä»€ä¹ˆwhileå¾ªç¯ä¸­çš„æ¡ä»¶æ˜¯ <=, è€Œä¸æ˜¯ < ?
ğŸ‘‰å› ä¸ºåˆå§‹åŒ– `right` çš„èµ‹å€¼æ˜¯ `nums.length - 1`ï¼Œå³æœ€åä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ï¼Œè€Œä¸æ˜¯ `nums.length`ã€‚

è¿™äºŒè€…å¯èƒ½å‡ºç°åœ¨ä¸åŒåŠŸèƒ½çš„äºŒåˆ†æŸ¥æ‰¾ä¸­ï¼ŒåŒºåˆ«æ˜¯ï¼šå‰è€…ç›¸å½“äºä¸¤ç«¯éƒ½é—­åŒºé—´ `[left, right]`ï¼Œåè€…ç›¸å½“äºå·¦é—­å³å¼€åŒºé—´ `[left, right)`ï¼Œå› ä¸ºç´¢å¼•å¤§å°ä¸º `nums.length` æ˜¯è¶Šç•Œçš„ã€‚

æˆ‘ä»¬è¿™ä¸ªç®—æ³•ä¸­ä½¿ç”¨çš„æ˜¯å‰è€… `[left, right]` ä¸¤ç«¯éƒ½é—­çš„åŒºé—´ã€‚**è¿™ä¸ªåŒºé—´å…¶å®å°±æ˜¯æ¯æ¬¡è¿›è¡Œæœç´¢çš„åŒºé—´**ã€‚

`while(left <= right)` çš„ç»ˆæ­¢æ¡ä»¶æ˜¯ `left == right + 1`ï¼Œå†™æˆåŒºé—´çš„å½¢å¼å°±æ˜¯ `[right + 1, right]`ï¼Œæˆ–è€…å¸¦ä¸ªå…·ä½“çš„æ•°å­—è¿›å» `[3, 2]`ï¼Œå¯è§**è¿™æ—¶å€™åŒºé—´ä¸ºç©º**ï¼Œå› ä¸ºæ²¡æœ‰æ•°å­—æ—¢å¤§äºç­‰äº 3 åˆå°äºç­‰äº 2 çš„å§ã€‚æ‰€ä»¥è¿™æ—¶å€™ while å¾ªç¯ç»ˆæ­¢æ˜¯æ­£ç¡®çš„ï¼Œç›´æ¥è¿”å› -1 å³å¯ã€‚

`while(left < right)` çš„ç»ˆæ­¢æ¡ä»¶æ˜¯ `left == right`ï¼Œå†™æˆåŒºé—´çš„å½¢å¼å°±æ˜¯ `[left, right]`ï¼Œæˆ–è€…å¸¦ä¸ªå…·ä½“çš„æ•°å­—è¿›å» `[2, 2]`ï¼Œ**è¿™æ—¶å€™åŒºé—´éç©º**ï¼Œè¿˜æœ‰ä¸€ä¸ªæ•° 2ï¼Œä½†æ­¤æ—¶ while å¾ªç¯ç»ˆæ­¢äº†ã€‚ä¹Ÿå°±æ˜¯è¯´è¿™åŒºé—´ `[2, 2]` è¢«æ¼æ‰äº†ï¼Œç´¢å¼• 2 æ²¡æœ‰è¢«æœç´¢ï¼Œå¦‚æœè¿™æ—¶å€™ç›´æ¥è¿”å› -1 å°±æ˜¯é”™è¯¯çš„ã€‚

å¦‚æœä½ éè¦ç”¨ `while(left < right)` ä¹Ÿå¯ä»¥ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“äº†å‡ºé”™çš„åŸå› ï¼Œå°±æ‰“ä¸ªè¡¥ä¸å¥½äº†ï¼š
```c
//...
    while(left < right) {
        // ...
    }
    return nums[left] == target ? left : -1;
```

#### ç®—æ³•ç¼ºé™·
è¿™ä¸ªç®—æ³•å­˜åœ¨å±€é™æ€§ã€‚

æ¯”å¦‚è¯´ç»™ä½ æœ‰åºæ•°ç»„ `nums = [1,2,2,2,3]`ï¼Œ`target` ä¸º 2ï¼Œæ­¤ç®—æ³•è¿”å›çš„ç´¢å¼•æ˜¯ 2ï¼Œæ²¡é”™ã€‚ä½†æ˜¯å¦‚æœæˆ‘æƒ³å¾—åˆ° `target` çš„**å·¦ä¾§è¾¹ç•Œ**ï¼Œå³ç´¢å¼• 1ï¼Œæˆ–è€…æˆ‘æƒ³å¾—åˆ° `target` çš„**å³ä¾§è¾¹ç•Œ**ï¼Œå³ç´¢å¼• 3ï¼Œè¿™æ ·çš„è¯æ­¤ç®—æ³•æ˜¯æ— æ³•å¤„ç†çš„ã€‚

è¿™æ ·çš„éœ€æ±‚å¾ˆå¸¸è§ï¼Œ**ä½ ä¹Ÿè®¸ä¼šè¯´ï¼Œæ‰¾åˆ°ä¸€ä¸ª targetï¼Œç„¶åå‘å·¦æˆ–å‘å³çº¿æ€§æœç´¢ä¸è¡Œå—ï¼Ÿå¯ä»¥ï¼Œä½†æ˜¯ä¸å¥½ï¼Œå› ä¸ºè¿™æ ·éš¾ä»¥ä¿è¯äºŒåˆ†æŸ¥æ‰¾å¯¹æ•°çº§çš„å¤æ‚åº¦äº†**ã€‚

### å¯»æ‰¾å·¦ä¾§è¾¹ç•Œçš„äºŒåˆ†æœç´¢
---
```cpp
int left_bound(vector<int> &nums, int target) {
    if (nums.length == 0) return -1;
    int left = 0;
    int right = nums.length; // æ³¨æ„

    while (left < right) { // æ³¨æ„
		int mid = (left + right) / 2;
        if (nums[mid] == target) {
            right = mid;
        } else if (nums[mid] < target) {
            left = mid + 1;
        } else if (nums[mid] > target) {
            right = mid; // æ³¨æ„
        }
    }
    return left;
}
```

#### ä¸ºä»€ä¹ˆwhileä¸­æ˜¯ < è€Œä¸æ˜¯ <= ?
ç­”ï¼šç”¨ç›¸åŒçš„æ–¹æ³•åˆ†æï¼Œå› ä¸º `right = nums.length` è€Œä¸æ˜¯ `nums.length - 1`ã€‚å› æ­¤æ¯æ¬¡å¾ªç¯çš„ã€Œæœç´¢åŒºé—´ã€æ˜¯ `[left, right)` å·¦é—­å³å¼€ã€‚

`while(left < right)` ç»ˆæ­¢çš„æ¡ä»¶æ˜¯ `left == right`ï¼Œæ­¤æ—¶æœç´¢åŒºé—´ `[left, left)` ä¸ºç©ºï¼Œæ‰€ä»¥å¯ä»¥æ­£ç¡®ç»ˆæ­¢ã€‚

â“**åˆšæ‰çš„ `right` ä¸æ˜¯ `nums.length - 1` å—ï¼Œä¸ºå•¥è¿™é‡Œéè¦å†™æˆ `nums.length` ä½¿å¾—ã€Œæœç´¢åŒºé—´ã€å˜æˆå·¦é—­å³å¼€å‘¢**ï¼Ÿ

å› ä¸ºå¯¹äºæœç´¢å·¦å³ä¾§è¾¹ç•Œçš„äºŒåˆ†æŸ¥æ‰¾ï¼Œè¿™ç§å†™æ³•æ¯”è¾ƒæ™®éï¼Œæˆ‘å°±æ‹¿è¿™ç§å†™æ³•ä¸¾ä¾‹äº†ï¼Œä¿è¯ä½ ä»¥åé‡åˆ°è¿™ç±»ä»£ç å¯ä»¥ç†è§£ã€‚ä½ éè¦ç”¨ä¸¤ç«¯éƒ½é—­çš„å†™æ³•åè€Œæ›´ç®€å•

#### å·¦ä¾§è¾¹ç•Œæœ‰ä»€ä¹ˆç‰¹æ®Šå«ä¹‰ï¼Ÿ
æ¯”å¦‚å¯¹äºæœ‰åºæ•°ç»„ nums = [2,3,5,7], target = 1ï¼Œç®—æ³•ä¼šè¿”å› 0ï¼Œå«ä¹‰æ˜¯ï¼šnums ä¸­å°äº 1 çš„å…ƒç´ æœ‰ 0 ä¸ªã€‚

å†æ¯”å¦‚è¯´ nums = [2,3,5,7], target = 8ï¼Œç®—æ³•ä¼šè¿”å› 4ï¼Œå«ä¹‰æ˜¯ï¼šnums ä¸­å°äº 8 çš„å…ƒç´ æœ‰ 4 ä¸ªã€‚

ç»¼ä¸Šå¯ä»¥çœ‹å‡ºï¼Œå‡½æ•°çš„è¿”å›å€¼ï¼ˆå³ `left` å˜é‡çš„å€¼ï¼‰å–å€¼åŒºé—´æ˜¯é—­åŒºé—´ `[0, nums.length]`ï¼Œæ‰€ä»¥æˆ‘ä»¬ç®€å•æ·»åŠ ä¸¤è¡Œä»£ç å°±èƒ½åœ¨æ­£ç¡®çš„æ—¶å€™ return -1ï¼š
```cpp
while (left < right) {
    //...
}
// target æ¯”æ‰€æœ‰æ•°éƒ½å¤§
if (left == nums.length) return -1;
// ç±»ä¼¼ä¹‹å‰ç®—æ³•çš„å¤„ç†æ–¹å¼ left == 0 çš„æƒ…å†µæœ‰ä¸¤ç§
return nums[left] == target ? left : -1;
```

#### ä¸ºä»€ä¹ˆ `left = mid + 1`ï¼Œ`right = mid` ï¼Ÿå’Œä¹‹å‰çš„ç®—æ³•ä¸ä¸€æ ·ï¼Ÿ
è¿™ä¸ªå¾ˆå¥½è§£é‡Šï¼Œå› ä¸ºæˆ‘ä»¬çš„ã€Œæœç´¢åŒºé—´ã€æ˜¯ `[left, right)` å·¦é—­å³å¼€ï¼Œæ‰€ä»¥å½“ `nums[mid]` è¢«æ£€æµ‹ä¹‹åï¼Œä¸‹ä¸€æ­¥çš„æœç´¢åŒºé—´åº”è¯¥å»æ‰ `mid` åˆ†å‰²æˆä¸¤ä¸ªåŒºé—´ï¼Œå³ `[left, mid)` æˆ– `[mid + 1, right)`ã€‚

#### ä¸ºä»€ä¹ˆè¯¥ç®—æ³•èƒ½å¤Ÿæœç´¢å·¦ä¾§è¾¹ç•Œï¼Ÿ
å…³é”®åœ¨äºå¯¹äº `nums[mid] == target` è¿™ç§æƒ…å†µçš„å¤„ç†ï¼š

```c
if (nums[mid] == target)
        right = mid;
```

å¯è§ï¼Œ**æ‰¾åˆ° target æ—¶ä¸è¦ç«‹å³è¿”å›ï¼Œè€Œæ˜¯ç¼©å°ã€Œæœç´¢åŒºé—´ã€çš„ä¸Šç•Œ** `right`ï¼Œåœ¨åŒºé—´ `[left, mid)` ä¸­ç»§ç»­æœç´¢ï¼Œå³ä¸æ–­å‘å·¦æ”¶ç¼©ï¼Œè¾¾åˆ°é”å®šå·¦ä¾§è¾¹ç•Œçš„ç›®çš„ã€‚

â“**èƒ½ä¸èƒ½æƒ³åŠæ³•æŠŠ `right` å˜æˆ `nums.length - 1`ï¼Œä¹Ÿå°±æ˜¯ç»§ç»­ä½¿ç”¨ä¸¤è¾¹éƒ½é—­çš„ã€Œæœç´¢åŒºé—´ã€ï¼Ÿè¿™æ ·å°±å¯ä»¥å’Œç¬¬ä¸€ç§äºŒåˆ†æœç´¢åœ¨æŸç§ç¨‹åº¦ä¸Šç»Ÿä¸€èµ·æ¥äº†**ã€‚

ğŸ’¡å½“ç„¶å¯ä»¥ï¼Œåªè¦ä½ æ˜ç™½äº†ã€Œæœç´¢åŒºé—´ã€è¿™ä¸ªæ¦‚å¿µï¼Œå°±èƒ½æœ‰æ•ˆé¿å…æ¼æ‰å…ƒç´ ï¼Œéšä¾¿ä½ æ€ä¹ˆæ”¹éƒ½è¡Œã€‚

å› ä¸ºä½ éè¦è®©æœç´¢åŒºé—´ä¸¤ç«¯éƒ½é—­ï¼Œæ‰€ä»¥ `right` åº”è¯¥åˆå§‹åŒ–ä¸º `nums.length - 1`ï¼Œwhile çš„ç»ˆæ­¢æ¡ä»¶åº”è¯¥æ˜¯ `left == right + 1`ï¼Œä¹Ÿå°±æ˜¯å…¶ä¸­åº”è¯¥ç”¨ `<=`
```cpp
int left_bound(int[] nums, int target) {
    // æœç´¢åŒºé—´ä¸º [left, right]
    int left = 0, right = nums.length - 1;
    while (left <= right) {
        int mid = left + (right - left) / 2;
        // if else ...
    }
```

å› ä¸ºæœç´¢åŒºé—´æ˜¯ä¸¤ç«¯éƒ½é—­çš„ï¼Œä¸”ç°åœ¨æ˜¯æœç´¢å·¦ä¾§è¾¹ç•Œï¼Œæ‰€ä»¥ `left` å’Œ `right` çš„æ›´æ–°é€»è¾‘å¦‚ä¸‹ï¼š

```cpp
if (nums[mid] < target) {
    // æœç´¢åŒºé—´å˜ä¸º [mid+1, right]
    left = mid + 1;
} else if (nums[mid] > target) {
    // æœç´¢åŒºé—´å˜ä¸º [left, mid-1]
    right = mid - 1;
} else if (nums[mid] == target) {
    // æ”¶ç¼©å³ä¾§è¾¹ç•Œ
    right = mid - 1;
}
```

ç”±äº while çš„é€€å‡ºæ¡ä»¶æ˜¯ `left == right + 1`ï¼Œæ‰€ä»¥å½“ `target` æ¯” `nums` ä¸­æ‰€æœ‰å…ƒç´ éƒ½å¤§æ—¶ï¼Œä¼šå­˜åœ¨ä»¥ä¸‹æƒ…å†µä½¿å¾—ç´¢å¼•è¶Šç•Œï¼š

å› æ­¤ï¼Œæœ€åè¿”å›ç»“æœçš„ä»£ç åº”è¯¥æ£€æŸ¥è¶Šç•Œæƒ…å†µï¼š

```cpp
if (left >= nums.length || nums[left] != target)
    return -1;
return left;
```

è‡³æ­¤ï¼Œæ•´ä¸ªç®—æ³•å°±å†™å®Œäº†ï¼Œå®Œæ•´ä»£ç å¦‚ä¸‹ï¼š
```cpp
int left_bound(int[] nums, int target) {
    int left = 0, right = nums.length - 1;
    // æœç´¢åŒºé—´ä¸º [left, right]
    while (left <= right) {
        int mid = left + (right - left) / 2;
        if (nums[mid] < target) {
            // æœç´¢åŒºé—´å˜ä¸º [mid+1, right]
            left = mid + 1;
        } else if (nums[mid] > target) {
            // æœç´¢åŒºé—´å˜ä¸º [left, mid-1]
            right = mid - 1;
        } else if (nums[mid] == target) {
            // æ”¶ç¼©å³ä¾§è¾¹ç•Œ
            right = mid - 1;
        }
    }
    // æ£€æŸ¥å‡ºç•Œæƒ…å†µ
    if (left >= nums.length || nums[left] != target)
        return -1;
    return left;
}
```

### å¯»æ‰¾å³ä¾§è¾¹ç•Œçš„äºŒåˆ†æŸ¥æ‰¾
---
ç±»ä¼¼å¯»æ‰¾å·¦ä¾§è¾¹ç•Œçš„ç®—æ³•ï¼Œè¿™é‡Œä¹Ÿä¼šæä¾›ä¸¤ç§å†™æ³•ï¼Œè¿˜æ˜¯å…ˆå†™å¸¸è§çš„å·¦é—­å³å¼€çš„å†™æ³•ï¼Œåªæœ‰ä¸¤å¤„å’Œæœç´¢å·¦ä¾§è¾¹ç•Œä¸åŒï¼Œå·²æ ‡æ³¨ï¼š`[ , )`

```cpp
int right_bound(int[] nums, int target) {
    if (nums.length == 0) return -1;
    int left = 0, right = nums.length;

    while (left < right) {
        int mid = (left + right) / 2;
        if (nums[mid] == target) {
            left = mid + 1; // æ³¨æ„
        } else if (nums[mid] < target) {
            left = mid + 1;
        } else if (nums[mid] > target) {
            right = mid;
        }
    }
    return left - 1; // æ³¨æ„
}
```

â“**ä¸ºä»€ä¹ˆè¿™ä¸ªç®—æ³•èƒ½å¤Ÿæ‰¾åˆ°å³ä¾§è¾¹ç•Œ**ï¼Ÿ

å½“ `nums[mid] == target` æ—¶ï¼Œä¸è¦ç«‹å³è¿”å›ï¼Œè€Œæ˜¯å¢å¤§ã€Œæœç´¢åŒºé—´ã€çš„ä¸‹ç•Œ `left`ï¼Œä½¿å¾—åŒºé—´ä¸æ–­å‘å³æ”¶ç¼©ï¼Œè¾¾åˆ°é”å®šå³ä¾§è¾¹ç•Œçš„ç›®çš„ã€‚

```cpp
if (nums[mid] == target) {
    left = mid + 1;
```

å½“ `nums[mid] == target` æ—¶ï¼Œä¸è¦ç«‹å³è¿”å›ï¼Œè€Œæ˜¯å¢å¤§ã€Œæœç´¢åŒºé—´ã€çš„ä¸‹ç•Œ `left`ï¼Œä½¿å¾—åŒºé—´ä¸æ–­å‘å³æ”¶ç¼©ï¼Œè¾¾åˆ°é”å®šå³ä¾§è¾¹ç•Œçš„ç›®çš„ã€‚

â“ä¸ºä»€ä¹ˆæœ€åè¿”å› `left - 1` è€Œä¸åƒå·¦ä¾§è¾¹ç•Œçš„å‡½æ•°ï¼Œè¿”å› `left`ï¼Ÿ

å› ä¸ºæˆ‘ä»¬å¯¹ `left` çš„æ›´æ–°å¿…é¡»æ˜¯ `left = mid + 1`ï¼Œå°±æ˜¯è¯´ while å¾ªç¯ç»“æŸæ—¶ï¼Œ`nums[left]` ä¸€å®šä¸ç­‰äº `target` äº†ï¼Œè€Œ `nums[left-1]` å¯èƒ½æ˜¯ `target`ã€‚

â“**ä¸ºä»€ä¹ˆæ²¡æœ‰è¿”å› -1 çš„æ“ä½œï¼Ÿå¦‚æœ `nums` ä¸­ä¸å­˜åœ¨ `target` è¿™ä¸ªå€¼ï¼Œæ€ä¹ˆåŠ**ï¼Ÿ
ç±»ä¼¼ä¹‹å‰çš„å·¦ä¾§è¾¹ç•Œæœç´¢ï¼Œå› ä¸º while çš„ç»ˆæ­¢æ¡ä»¶æ˜¯ `left == right`ï¼Œå°±æ˜¯è¯´ `left` çš„å–å€¼èŒƒå›´æ˜¯ `[0, nums.length]`ï¼Œæ‰€ä»¥å¯ä»¥æ·»åŠ ä¸¤è¡Œä»£ç ï¼Œæ­£ç¡®åœ°è¿”å› -1ï¼š
```cpp
while (left < right) {
    // ...
}
if (left == 0) return -1;
return nums[left-1] == target ? (left-1) : -1;
```

#### ä¸¤ç«¯éƒ½é—­çš„æœç´¢åŒºé—´
```cpp
int right_bound(int[] nums, int target) {
    int left = 0, right = nums.length - 1;
    while (left <= right) {
        int mid = left + (right - left) / 2;
        if (nums[mid] < target) {
            left = mid + 1;
        } else if (nums[mid] > target) {
            right = mid - 1;
        } else if (nums[mid] == target) {
            // è¿™é‡Œæ”¹æˆæ”¶ç¼©å·¦ä¾§è¾¹ç•Œå³å¯
            left = mid + 1;
        }
    }
    // è¿™é‡Œæ”¹ä¸ºæ£€æŸ¥ right è¶Šç•Œçš„æƒ…å†µï¼Œè§ä¸‹å›¾
    if (right < 0 || nums[right] != target)
        return -1;
    return right;
}
```

å½“ `target` æ¯”æ‰€æœ‰å…ƒç´ éƒ½å°æ—¶ï¼Œ`right` ä¼šè¢«å‡åˆ° -1ï¼Œæ‰€ä»¥éœ€è¦åœ¨æœ€åé˜²æ­¢è¶Šç•Œã€‚

### é€»è¾‘ç»Ÿä¸€
---
**ç¬¬ä¸€ä¸ªï¼Œæœ€åŸºæœ¬çš„äºŒåˆ†æŸ¥æ‰¾ç®—æ³•**ï¼š

```c
å› ä¸ºæˆ‘ä»¬åˆå§‹åŒ– right = nums.length - 1
æ‰€ä»¥å†³å®šäº†æˆ‘ä»¬çš„ã€Œæœç´¢åŒºé—´ã€æ˜¯ [left, right]
æ‰€ä»¥å†³å®šäº† while (left <= right)
åŒæ—¶ä¹Ÿå†³å®šäº† left = mid+1 å’Œ right = mid-1

å› ä¸ºæˆ‘ä»¬åªéœ€æ‰¾åˆ°ä¸€ä¸ª target çš„ç´¢å¼•å³å¯
æ‰€ä»¥å½“ nums[mid] == target æ—¶å¯ä»¥ç«‹å³è¿”å›
```

**ç¬¬äºŒä¸ªï¼Œå¯»æ‰¾å·¦ä¾§è¾¹ç•Œçš„äºŒåˆ†æŸ¥æ‰¾**ï¼š

```c
å› ä¸ºæˆ‘ä»¬åˆå§‹åŒ– right = nums.length
æ‰€ä»¥å†³å®šäº†æˆ‘ä»¬çš„ã€Œæœç´¢åŒºé—´ã€æ˜¯ [left, right)
æ‰€ä»¥å†³å®šäº† while (left < right)
åŒæ—¶ä¹Ÿå†³å®šäº† left = mid + 1 å’Œ right = mid

å› ä¸ºæˆ‘ä»¬éœ€æ‰¾åˆ° target çš„æœ€å·¦ä¾§ç´¢å¼•
æ‰€ä»¥å½“ nums[mid] == target æ—¶ä¸è¦ç«‹å³è¿”å›
è€Œè¦æ”¶ç´§å³ä¾§è¾¹ç•Œä»¥é”å®šå·¦ä¾§è¾¹ç•Œ
```

**ç¬¬ä¸‰ä¸ªï¼Œå¯»æ‰¾å³ä¾§è¾¹ç•Œçš„äºŒåˆ†æŸ¥æ‰¾**ï¼š

```c
å› ä¸ºæˆ‘ä»¬åˆå§‹åŒ– right = nums.length
æ‰€ä»¥å†³å®šäº†æˆ‘ä»¬çš„ã€Œæœç´¢åŒºé—´ã€æ˜¯ [left, right)
æ‰€ä»¥å†³å®šäº† while (left < right)
åŒæ—¶ä¹Ÿå†³å®šäº† left = mid + 1 å’Œ right = mid

å› ä¸ºæˆ‘ä»¬éœ€æ‰¾åˆ° target çš„æœ€å³ä¾§ç´¢å¼•
æ‰€ä»¥å½“ nums[mid] == target æ—¶ä¸è¦ç«‹å³è¿”å›
è€Œè¦æ”¶ç´§å·¦ä¾§è¾¹ç•Œä»¥é”å®šå³ä¾§è¾¹ç•Œ

åˆå› ä¸ºæ”¶ç´§å·¦ä¾§è¾¹ç•Œæ—¶å¿…é¡» left = mid + 1
æ‰€ä»¥æœ€åæ— è®ºè¿”å› left è¿˜æ˜¯ rightï¼Œå¿…é¡»å‡ä¸€
```

å¯¹äºå¯»æ‰¾å·¦å³è¾¹ç•Œçš„äºŒåˆ†æœç´¢ï¼Œå¸¸è§çš„æ‰‹æ³•æ˜¯ä½¿ç”¨å·¦é—­å³å¼€çš„ã€Œæœç´¢åŒºé—´ã€ï¼Œ**æˆ‘ä»¬è¿˜æ ¹æ®é€»è¾‘å°†ã€Œæœç´¢åŒºé—´ã€å…¨éƒ½ç»Ÿä¸€æˆäº†ä¸¤ç«¯éƒ½é—­ï¼Œä¾¿äºè®°å¿†ï¼Œåªè¦ä¿®æ”¹ä¸¤å¤„å³å¯å˜åŒ–å‡ºä¸‰ç§å†™æ³•**ï¼š

```cpp
int binary_search(int[] nums, int target) {
    int left = 0, right = nums.length - 1; 
    while(left <= right) {
        int mid = left + (right - left) / 2;
        if (nums[mid] < target) {
            left = mid + 1;
        } else if (nums[mid] > target) {
            right = mid - 1; 
        } else if(nums[mid] == target) {
            // ç›´æ¥è¿”å›
            return mid;
        }
    }
    // ç›´æ¥è¿”å›
    return -1;
}

int left_bound(int[] nums, int target) {
    int left = 0, right = nums.length - 1;
    while (left <= right) {
        int mid = left + (right - left) / 2;
        if (nums[mid] < target) {
            left = mid + 1;
        } else if (nums[mid] > target) {
            right = mid - 1;
        } else if (nums[mid] == target) {
            // åˆ«è¿”å›ï¼Œé”å®šå·¦ä¾§è¾¹ç•Œ
            right = mid - 1;
        }
    }
    // æœ€åè¦æ£€æŸ¥ left è¶Šç•Œçš„æƒ…å†µ
    if (left >= nums.length || nums[left] != target)
        return -1;
    return left;
}


int right_bound(int[] nums, int target) {
    int left = 0, right = nums.length - 1;
    while (left <= right) {
        int mid = left + (right - left) / 2;
        if (nums[mid] < target) {
            left = mid + 1;
        } else if (nums[mid] > target) {
            right = mid - 1;
        } else if (nums[mid] == target) {
            // åˆ«è¿”å›ï¼Œé”å®šå³ä¾§è¾¹ç•Œ
            left = mid + 1;
        }
    }
    // æœ€åè¦æ£€æŸ¥ right è¶Šç•Œçš„æƒ…å†µ
    if (right < 0 || nums[right] != target)
        return -1;
    return right;
}
```


[äºŒåˆ†æŸ¥æ‰¾ç»†èŠ‚è¯¦è§£ - çŸ¥ä¹](https://zhuanlan.zhihu.com/p/79553968)